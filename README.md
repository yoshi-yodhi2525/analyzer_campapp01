# テキスト分析アプリ

このアプリは、テキストデータを分析してワードクラウドと共起ネットワークを生成するStreamlitアプリケーションです。

## 機能

- 📁 **CSVファイルアップロード**: 独自のデータをアップロードして分析
- 🔍 **列選択**: 分析対象のテキスト列を自由に選択
- 📊 テキストデータの形態素解析
- 🔤 ワードクラウド生成
- 🕸️ **共起ネットワーク可視化**:
  - Graphviz (高品質・推奨)
  - pyvis (高度なインタラクティブ)
  - Plotly (インタラクティブ)
  - Matplotlib (静的)
- 📈 中心性分析
- 💾 結果のダウンロード
- 👀 データプレビュー機能

## 使用方法

### ローカル実行

1. 必要なパッケージをインストール：
```bash
pip install -r requirements.txt
```

2. アプリを実行：
```bash
streamlit run app.py
```

### Streamlit Cloud デプロイ

1. このリポジトリをGitHubにプッシュ
2. [Streamlit Cloud](https://share.streamlit.io/)でアプリをデプロイ
3. リポジトリURLを指定してデプロイ

## ファイル構成

```
├── app.py                    # メインアプリケーション
├── requirements.txt          # Python依存関係
├── .streamlit/
│   └── config.toml          # Streamlit設定
├── csv/
│   └── data.csv             # 分析対象データ
├── font/
│   └── NotoSansJP-VariableFont_wght.ttf  # 日本語フォント
└── lib/                     # 静的ファイル（pyvis用）
    ├── bindings/
    ├── tom-select/
    └── vis-9.1.2/
```

## 必要なデータ形式

CSVファイルにテキスト列（文字列型）が含まれている必要があります。列名は自由に設定できます：

```csv
投稿日時,コメント,タイトル
2025/09/06 19:21,とても楽しかったです,イベント参加
2025/09/06 13:20,お気軽にお立ち寄りください,書籍販売
```

- テキスト列は自動的に検出されます
- 複数のテキスト列がある場合は、分析対象を選択できます
- デフォルトデータも利用可能です

## 技術スタック

- **Streamlit**: Webアプリケーションフレームワーク
- **spaCy + GINZA**: 日本語形態素解析
- **WordCloud**: ワードクラウド生成
- **NetworkX**: ネットワーク分析
- **Graphviz + pygraphviz**: 高品質ネットワーク可視化
- **Plotly**: インタラクティブ可視化
- **pyvis**: 高度なネットワーク可視化
- **Matplotlib**: 静的グラフ生成

## 注意事項

- Streamlit Cloudでは日本語フォントが利用できない場合があります
- 大量のデータを処理する場合は、メモリ使用量にご注意ください
- 一時ファイルは自動的にクリーンアップされます